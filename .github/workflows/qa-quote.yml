name: Update QA Quote

on:
  workflow_dispatch:
  schedule:
    - cron: "*/10 * * * *"

permissions:
  contents: write

jobs:
  update-quote:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Generate QA Quote
        run: |
          mkdir -p quotes

          printf "%s\n" \
          "A tester’s job is to think like the user and break like a hacker." \
          "Testing is the art of risk reduction." \
          "Quality is built in, not tested in." \
          "Great testers prevent disasters before users see them." \
          "If you did not test it, you do not know it works." \
          "Testing turns assumptions into confidence." \
          "Testing is not about finding bugs — it's about building trust in technology." \
          > quotes/quotes.txt

          QUOTE=$(shuf -n 1 quotes/quotes.txt)

          printf '%s\n' \
          '<svg xmlns="http://www.w3.org/2000/svg" width="900" height="180">' \
          '<rect width="900" height="180" rx="20" fill="#0d1117"/>' \
          '<text x="50%" y="80" text-anchor="middle" font-size="26" fill="#58a6ff">' \
          "$QUOTE" \
          '</text>' \
          '<text x="880" y="145" text-anchor="end" font-size="14" fill="#8b949e">' \
          '— Sagar Bankar | Software Test Engineer' \
          '</text>' \
          '</svg>' \
          > quotes/quote.svg

      - name: Commit and Push
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add quotes/quote.svg
          git commit -m "Auto-update QA quote" || echo "No changes"
          git push
